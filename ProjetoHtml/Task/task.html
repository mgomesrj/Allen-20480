<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
        <link rel="stylesheet"
        href="../Content/bootstrap.min.css" />
    <script type="text/javascript"
        src="../Scripts/jquery-2.1.4.min.js"></script>
    <script type="text/javascript"
        src="../Scripts/bootstrap.min.js"></script>
    <style>
        input[type='checkbox'] {
            margin-left: 7px;
            margin-bottom: 15px;
        }
    </style>
      <script type="text/javascript">
          $(document).ready(function () {
              var ul = $("#task");

              var clearElement = function ($el) {
                  $($el).closest("li").fadeOut(function () {
                      $(this).closest("li").remove();
                      localStorage.setItem("task", ul.html());
                  });
              };


              if (localStorage.getItem("task")) {
                  var ul = $("#task");
                  var task = localStorage.getItem("task");
                  ul.html(task);
              }

              $("#btnAdd").click(function () {
                  var text = $("#newTask");

                  var $input = $("<input type='checkbox' />");

                  $($input).click(function () {
                      clearElement($(this));
                  });

                  $(ul).append("<li>" + $(text).val() + "</li>");
                  $(ul).find("li:last").append($input);
                  localStorage.setItem("task", ul.html());
              });

              $("input[type='checkbox']").click(function () {
                  clearElement($(this));
              });
          });
    </script>
</head>
<body>
    <header>
        To-do List
    </header>
    <article >
        <p>Para adicionar novos itens a lista, basta apertar enter</p>
        <label>Nova Tarefa</label>
        <input type="text"  id="newTask"/>
        <button id="btnAdd">Adicionar Nova Tarefa</button>
    </article>

    <article>
        <ul id="task">

        </ul>

    </article>
</body>
</html>
